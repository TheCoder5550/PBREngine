<!DOCTYPE html>
<html>
<head>
  <meta charset='utf-8'>
  <meta http-equiv='X-UA-Compatible' content='IE=edge'>
  <title>Car demo</title>
  <meta name='viewport' content='width=device-width, initial-scale=1'>
  <meta name="apple-mobile-web-app-capable" content="yes" />

  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Oswald:wght@200;400&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,1,0" />

  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="overlay loading">
    <!-- <h1>WebGL - Realistic Car Demo</h1>
    <h3 class="subheading">by <a href="https://aaserver.net/">Alfons Nilsson</a></h3> -->
    <!-- <img src="garageIcon.png"> -->

    <!-- <h3>Loading</h3>
    <div class="progressBar">
      <div class="progress"></div>
    </div>
    <h3 class="progressStatus">Waiting for scripts</h3> -->

    <!-- <div class="topBar"></div> -->

    <div class="backgroundImage"></div>

    <div class="bottomBar">
      <div class="content">
        <h1>WebGL - Car Demo</h1>
        <h3 class="subheading">by <a href="https://aaserver.net/">Alfons Nilsson</a></h3>

        <div class="loaderWrapper">
          <!-- <div> -->
            <h3 class="progressStatus">Waiting for scripts (0%)</h3>
            <!-- <div class="progressBar">
              <div class="progress"></div>
            </div> -->
          <!-- </div> -->
          <div class="loader"></div>
        </div>
      </div>
    </div>
  </div>

  <div class="overlay pauseOverlay hidden">
    <div class="menu">
      <h1>Paused</h1>
      <div class="Playground">
        <button onclick="openSettings()" class="MenuButton isSelectable">
          <span class="material-symbols-outlined">settings</span>
          <span>Settings</span>
        </button>
        <button onclick="resetCar()" class="MenuButton isSelectable">
          <span class="material-symbols-outlined">restart_alt</span>
          <span>Restart lap</span>
        </button>
        <!-- <button onclick="" class="MenuButton isSelectable">
          <span class="material-symbols-outlined">photo</span>
          <span>Photo mode</span>
        </button> -->
        <button onclick="resume()" class="MenuButton isSelectable">
          Resume
        </button>

        <!-- <button onclick="gotoGarage()" class="isSelectable">
          <img src="garageIcon.png">
          <span>Garage</span>
        </button>
        <button onclick="openSettings()" class="isSelectable"><span class="material-symbols-outlined">settings</span>Settings</button>
        <button onclick="resetCar()" class="isSelectable"><span class="material-symbols-outlined">restart_alt</span>Reset car</button>
        <button onclick="resume()" class="isSelectable">Resume</button>
        <button onclick="" class="isSelectable" disabled><span class="material-symbols-outlined">location_on</span>Teleport</button> -->
      </div>

      <div class="Garage hidden">
        <button onclick="gotoPlayground()" class="isSelectable"><span class="material-symbols-outlined">logout</span>Leave garage</button>
        <button onclick="openSettings()" class="isSelectable"><span class="material-symbols-outlined">settings</span>Settings</button>
        <button onclick="resume()" class="isSelectable">Resume</button>
      </div>
    </div>

    <div class="tooltip">
      <div>
        <img src="../assets/textures/keyIcons/Xbox Series/XboxSeriesX_A.png">
        <span>Select</span>
      </div>
      <div>
        <img src="../assets/textures/keyIcons/Xbox Series/XboxSeriesX_B.png">
        <img src="../assets/textures/keyIcons/Xbox Series/XboxSeriesX_Menu.png">
        <span>Back</span>
      </div>
      <div>
        <img src="../assets/textures/keyIcons/Xbox Series/XboxSeriesX_Dpad.png">
        <span>Navigate</span>
      </div>
    </div>
  </div>

  <div class="overlay garage hidden">
    <div class="info glass">
      <span class="carName">-</span>

      <h3>Parts</h3>
      <div class="stats">
        <!-- <div class="item">
          <span>Engine</span>
          <div class="card">
            <img src="controls.png">
            <div>
              <span class="title">Default engine</span>
              <span class="value">-</span>
            </div>
          </div>
        </div> -->

        <div class="item">
          <span>Engine</span>
          <div class="card glass">
            <img src="controls.png">
            <div>
              <span class="title">Default engine</span>
              <span class="value">-</span>
            </div>
          </div>
        </div>

        <div class="item">
          <span>Body</span>
          <div class="card glass">
            <img src="controls.png">
            <div>
              <span class="title">Default body</span>
              <span class="value">-</span>
            </div>
          </div>
        </div>

        <div class="item">
          <span>Drivetrain</span>
          <div class="card glass">
            <img src="controls.png">
            <div>
              <span class="title">Default drivetrain</span>
              <span class="value">-</span>
            </div>
          </div>
        </div>

        <div class="item">
          <span>Differential</span>
          <div class="card glass">
            <img src="controls.png">
            <div>
              <span class="title">Default differential</span>
              <span class="value">-</span>
            </div>
          </div>
        </div>

        <div class="item">
          <span>Wheels</span>
          <div class="card glass">
            <img src="controls.png">
            <div>
              <span class="title">Default wheels</span>
              <span class="value">-</span>
            </div>
          </div>
        </div>

        <div class="item">
          <span>Steering</span>
          <div class="card glass">
            <img src="controls.png">
            <div>
              <span class="title">Default steering</span>
              <span class="value">-</span>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="carList">
    </div>

    <!-- <button class="selectCar" onclick="selectCar()">
      <img src="../assets/textures/keyIcons/Xbox Series/XboxSeriesX_A.png">
      <span class="label">Select</span>
    </button> -->
  </div>

  <div class="overlay settings hidden">
    <div class="settingsContainer">
      <h1>Settings</h1>

      <div class="settings_header">
        <img src="../assets/textures/keyIcons/Xbox Series/XboxSeriesX_LB.png">
        <div class="settings_categories"></div>
        <img src="../assets/textures/keyIcons/Xbox Series/XboxSeriesX_RB.png">
      </div>

      <div class="settings_pages"></div>
      <div>
        <button class="isSelectable" onclick="goBack()">Back</button>
      </div>
    </div>

    <div class="tooltip">
      <div>
        <img src="../assets/textures/keyIcons/Xbox Series/XboxSeriesX_A.png">
        <span>Change setting</span>
      </div>
      <div>
        <img src="../assets/textures/keyIcons/Xbox Series/XboxSeriesX_B.png">
        <span>Back</span>
      </div>
      <div>
        <img src="../assets/textures/keyIcons/Xbox Series/XboxSeriesX_Dpad.png">
        <span>Navigate</span>
      </div>
    </div>
  </div>

  <div class="overlay hidden">
    <div class="messages"></div>
  </div>

  <div class="overlay race hidden">
    <div class="lap_times">
      <div class="best">
        <div style="display: flex;align-items: end;">
          <span>Best lap</span>
        </div>
        <span style="font-size: 1.75rem;" id="best_lap_time">--:--.---</span>
      </div>
      
      <div class="prev">
        <span>Prev laps</span>
        <div class="prev_lap_times" id="prev_lap_times"></div>
      </div>
    </div>

    <div class="current_times">
      <span class="current_time hidden" id="current_time">00:00.000</span>
      <span class="missed_checkpoint hidden" id="missed_checkpoint">Missed checkpoint</span>
    </div>

    <div class="track_map">
      <img src="track_map.png">
      <div class="tracker">
        <img src="tracker.png">
        <div class="color"></div>
      </div>
    </div>
  </div>

  <div class="overlay start_menu hidden">
    <h1>Car demo</h1>
    <div class="start_menu_actions">
      <button class="isSelectable MenuButton" onclick="window.startRace()">
        <span class="material-symbols-outlined">sports_score</span>
        Start race
      </button>
      <button class="isSelectable MenuButton">
        <span class="material-symbols-outlined">stadia_controller</span>
        Controls
      </button>
    </div>
  </div>

  <!-- <div class="overlay" style="z-index: 1000000000; display: flex; flex-direction: column; align-items: flex-end;">
    <div>
      <span id="debug_drawCalls">0</span>
      <span>draw calls</span>
    </div>
  </div> -->

  <!-- <script src="../../dist/bundle.js"></script> -->
  <script src="worley-noise.js"></script>
  <script type="module" src="main.js"></script>
</body>
</html>